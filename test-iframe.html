<!DOCTYPE html>
<html>
<head>
    <title>Iframe Embedding Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-container { border: 2px solid #333; padding: 10px; margin: 20px 0; }
        iframe { width: 100%; height: 600px; border: 1px solid #ccc; }
        .status { color: green; font-weight: bold; }
        .error { color: red; font-weight: bold; }
    </style>
</head>
<body>
    <h1>Intelligence Analyzer - Iframe Embedding Test</h1>
    
    <div class="test-container">
        <h2>Test Status: <span class="status">IFRAME EMBEDDING ENABLED</span></h2>
        <p>The application below should load completely in the iframe without any "Refused to display" errors.</p>
        
        <iframe src="https://ui-intelligence-analyzer.johnmichaelkucz.repl.co/" 
                frameborder="0" 
                allowfullscreen
                title="Intelligence Analyzer">
            <p class="error">Your browser does not support iframes.</p>
        </iframe>
    </div>
    
    <div class="test-container">
        <h3>Headers Verification</h3>
        <p>✓ X-Frame-Options: <strong>REMOVED</strong> (allows embedding)</p>
        <p>✓ Content-Security-Policy: <strong>REMOVED</strong> (no frame-ancestors restriction)</p>
        <p>✓ CORS headers: <strong>ENABLED</strong> (cross-origin support)</p>
    </div>
    
    <script>
        // Test if iframe loads successfully
        window.addEventListener('load', function() {
            const iframe = document.querySelector('iframe');
            
            iframe.onload = function() {
                console.log('✓ Iframe loaded successfully - embedding works!');
                document.querySelector('.status').textContent = 'IFRAME EMBEDDING WORKING';
            };
            
            iframe.onerror = function() {
                console.log('✗ Iframe failed to load - embedding blocked');
                document.querySelector('.status').textContent = 'IFRAME EMBEDDING BLOCKED';
                document.querySelector('.status').className = 'error';
            };
        });
    </script>
</body>
</html>